{"ast":null,"code":"/*\r\n * Copyright 2009 ZXing authors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\nimport IllegalArgumentException from './IllegalArgumentException';\nvar BinaryBitmap = /** @class */function () {\n  function BinaryBitmap(binarizer) {\n    this.binarizer = binarizer;\n    if (binarizer === null) {\n      throw new IllegalArgumentException('Binarizer must be non-null.');\n    }\n  }\n  /**\r\n   * @return The width of the bitmap.\r\n   */\n  BinaryBitmap.prototype.getWidth = function () {\n    return this.binarizer.getWidth();\n  };\n  /**\r\n   * @return The height of the bitmap.\r\n   */\n  BinaryBitmap.prototype.getHeight = function () {\n    return this.binarizer.getHeight();\n  };\n  /**\r\n   * Converts one row of luminance data to 1 bit data. May actually do the conversion, or return\r\n   * cached data. Callers should assume this method is expensive and call it as seldom as possible.\r\n   * This method is intended for decoding 1D barcodes and may choose to apply sharpening.\r\n   *\r\n   * @param y The row to fetch, which must be in [0, bitmap height)\r\n   * @param row An optional preallocated array. If null or too small, it will be ignored.\r\n   *            If used, the Binarizer will call BitArray.clear(). Always use the returned object.\r\n   * @return The array of bits for this row (true means black).\r\n   * @throws NotFoundException if row can't be binarized\r\n   */\n  BinaryBitmap.prototype.getBlackRow = function (y /*int*/, row) {\n    return this.binarizer.getBlackRow(y, row);\n  };\n  /**\r\n   * Converts a 2D array of luminance data to 1 bit. As above, assume this method is expensive\r\n   * and do not call it repeatedly. This method is intended for decoding 2D barcodes and may or\r\n   * may not apply sharpening. Therefore, a row from this matrix may not be identical to one\r\n   * fetched using getBlackRow(), so don't mix and match between them.\r\n   *\r\n   * @return The 2D array of bits for the image (true means black).\r\n   * @throws NotFoundException if image can't be binarized to make a matrix\r\n   */\n  BinaryBitmap.prototype.getBlackMatrix = function () {\n    // The matrix is created on demand the first time it is requested, then cached. There are two\n    // reasons for this:\n    // 1. This work will never be done if the caller only installs 1D Reader objects, or if a\n    //    1D Reader finds a barcode before the 2D Readers run.\n    // 2. This work will only be done once even if the caller installs multiple 2D Readers.\n    if (this.matrix === null || this.matrix === undefined) {\n      this.matrix = this.binarizer.getBlackMatrix();\n    }\n    return this.matrix;\n  };\n  /**\r\n   * @return Whether this bitmap can be cropped.\r\n   */\n  BinaryBitmap.prototype.isCropSupported = function () {\n    return this.binarizer.getLuminanceSource().isCropSupported();\n  };\n  /**\r\n   * Returns a new object with cropped image data. Implementations may keep a reference to the\r\n   * original data rather than a copy. Only callable if isCropSupported() is true.\r\n   *\r\n   * @param left The left coordinate, which must be in [0,getWidth())\r\n   * @param top The top coordinate, which must be in [0,getHeight())\r\n   * @param width The width of the rectangle to crop.\r\n   * @param height The height of the rectangle to crop.\r\n   * @return A cropped version of this object.\r\n   */\n  BinaryBitmap.prototype.crop = function (left /*int*/, top /*int*/, width /*int*/, height /*int*/) {\n    var newSource = this.binarizer.getLuminanceSource().crop(left, top, width, height);\n    return new BinaryBitmap(this.binarizer.createBinarizer(newSource));\n  };\n  /**\r\n   * @return Whether this bitmap supports counter-clockwise rotation.\r\n   */\n  BinaryBitmap.prototype.isRotateSupported = function () {\n    return this.binarizer.getLuminanceSource().isRotateSupported();\n  };\n  /**\r\n   * Returns a new object with rotated image data by 90 degrees counterclockwise.\r\n   * Only callable if {@link #isRotateSupported()} is true.\r\n   *\r\n   * @return A rotated version of this object.\r\n   */\n  BinaryBitmap.prototype.rotateCounterClockwise = function () {\n    var newSource = this.binarizer.getLuminanceSource().rotateCounterClockwise();\n    return new BinaryBitmap(this.binarizer.createBinarizer(newSource));\n  };\n  /**\r\n   * Returns a new object with rotated image data by 45 degrees counterclockwise.\r\n   * Only callable if {@link #isRotateSupported()} is true.\r\n   *\r\n   * @return A rotated version of this object.\r\n   */\n  BinaryBitmap.prototype.rotateCounterClockwise45 = function () {\n    var newSource = this.binarizer.getLuminanceSource().rotateCounterClockwise45();\n    return new BinaryBitmap(this.binarizer.createBinarizer(newSource));\n  };\n  /*@Override*/\n  BinaryBitmap.prototype.toString = function () {\n    try {\n      return this.getBlackMatrix().toString();\n    } catch (e /*: NotFoundException*/) {\n      return '';\n    }\n  };\n  return BinaryBitmap;\n}();\nexport default BinaryBitmap;","map":{"version":3,"names":["IllegalArgumentException","BinaryBitmap","binarizer","prototype","getWidth","getHeight","getBlackRow","y","row","getBlackMatrix","matrix","undefined","isCropSupported","getLuminanceSource","crop","left","top","width","height","newSource","createBinarizer","isRotateSupported","rotateCounterClockwise","rotateCounterClockwise45","toString","e"],"sources":["D:/Git/GME-Angular2/node_modules/@zxing/library/esm/core/BinaryBitmap.js"],"sourcesContent":["/*\r\n * Copyright 2009 ZXing authors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nimport IllegalArgumentException from './IllegalArgumentException';\r\nvar BinaryBitmap = /** @class */ (function () {\r\n    function BinaryBitmap(binarizer) {\r\n        this.binarizer = binarizer;\r\n        if (binarizer === null) {\r\n            throw new IllegalArgumentException('Binarizer must be non-null.');\r\n        }\r\n    }\r\n    /**\r\n     * @return The width of the bitmap.\r\n     */\r\n    BinaryBitmap.prototype.getWidth = function () {\r\n        return this.binarizer.getWidth();\r\n    };\r\n    /**\r\n     * @return The height of the bitmap.\r\n     */\r\n    BinaryBitmap.prototype.getHeight = function () {\r\n        return this.binarizer.getHeight();\r\n    };\r\n    /**\r\n     * Converts one row of luminance data to 1 bit data. May actually do the conversion, or return\r\n     * cached data. Callers should assume this method is expensive and call it as seldom as possible.\r\n     * This method is intended for decoding 1D barcodes and may choose to apply sharpening.\r\n     *\r\n     * @param y The row to fetch, which must be in [0, bitmap height)\r\n     * @param row An optional preallocated array. If null or too small, it will be ignored.\r\n     *            If used, the Binarizer will call BitArray.clear(). Always use the returned object.\r\n     * @return The array of bits for this row (true means black).\r\n     * @throws NotFoundException if row can't be binarized\r\n     */\r\n    BinaryBitmap.prototype.getBlackRow = function (y /*int*/, row) {\r\n        return this.binarizer.getBlackRow(y, row);\r\n    };\r\n    /**\r\n     * Converts a 2D array of luminance data to 1 bit. As above, assume this method is expensive\r\n     * and do not call it repeatedly. This method is intended for decoding 2D barcodes and may or\r\n     * may not apply sharpening. Therefore, a row from this matrix may not be identical to one\r\n     * fetched using getBlackRow(), so don't mix and match between them.\r\n     *\r\n     * @return The 2D array of bits for the image (true means black).\r\n     * @throws NotFoundException if image can't be binarized to make a matrix\r\n     */\r\n    BinaryBitmap.prototype.getBlackMatrix = function () {\r\n        // The matrix is created on demand the first time it is requested, then cached. There are two\r\n        // reasons for this:\r\n        // 1. This work will never be done if the caller only installs 1D Reader objects, or if a\r\n        //    1D Reader finds a barcode before the 2D Readers run.\r\n        // 2. This work will only be done once even if the caller installs multiple 2D Readers.\r\n        if (this.matrix === null || this.matrix === undefined) {\r\n            this.matrix = this.binarizer.getBlackMatrix();\r\n        }\r\n        return this.matrix;\r\n    };\r\n    /**\r\n     * @return Whether this bitmap can be cropped.\r\n     */\r\n    BinaryBitmap.prototype.isCropSupported = function () {\r\n        return this.binarizer.getLuminanceSource().isCropSupported();\r\n    };\r\n    /**\r\n     * Returns a new object with cropped image data. Implementations may keep a reference to the\r\n     * original data rather than a copy. Only callable if isCropSupported() is true.\r\n     *\r\n     * @param left The left coordinate, which must be in [0,getWidth())\r\n     * @param top The top coordinate, which must be in [0,getHeight())\r\n     * @param width The width of the rectangle to crop.\r\n     * @param height The height of the rectangle to crop.\r\n     * @return A cropped version of this object.\r\n     */\r\n    BinaryBitmap.prototype.crop = function (left /*int*/, top /*int*/, width /*int*/, height /*int*/) {\r\n        var newSource = this.binarizer.getLuminanceSource().crop(left, top, width, height);\r\n        return new BinaryBitmap(this.binarizer.createBinarizer(newSource));\r\n    };\r\n    /**\r\n     * @return Whether this bitmap supports counter-clockwise rotation.\r\n     */\r\n    BinaryBitmap.prototype.isRotateSupported = function () {\r\n        return this.binarizer.getLuminanceSource().isRotateSupported();\r\n    };\r\n    /**\r\n     * Returns a new object with rotated image data by 90 degrees counterclockwise.\r\n     * Only callable if {@link #isRotateSupported()} is true.\r\n     *\r\n     * @return A rotated version of this object.\r\n     */\r\n    BinaryBitmap.prototype.rotateCounterClockwise = function () {\r\n        var newSource = this.binarizer.getLuminanceSource().rotateCounterClockwise();\r\n        return new BinaryBitmap(this.binarizer.createBinarizer(newSource));\r\n    };\r\n    /**\r\n     * Returns a new object with rotated image data by 45 degrees counterclockwise.\r\n     * Only callable if {@link #isRotateSupported()} is true.\r\n     *\r\n     * @return A rotated version of this object.\r\n     */\r\n    BinaryBitmap.prototype.rotateCounterClockwise45 = function () {\r\n        var newSource = this.binarizer.getLuminanceSource().rotateCounterClockwise45();\r\n        return new BinaryBitmap(this.binarizer.createBinarizer(newSource));\r\n    };\r\n    /*@Override*/\r\n    BinaryBitmap.prototype.toString = function () {\r\n        try {\r\n            return this.getBlackMatrix().toString();\r\n        }\r\n        catch (e /*: NotFoundException*/) {\r\n            return '';\r\n        }\r\n    };\r\n    return BinaryBitmap;\r\n}());\r\nexport default BinaryBitmap;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}